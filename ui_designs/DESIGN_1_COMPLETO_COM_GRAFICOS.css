/* ü§ç DESIGN MINIMALISTA CLEAN - VERS√ÉO COMPLETA
   Inclui estilos para TODOS os elementos do sistema:
   - Chat messages
   - Plotly charts (bar, pie, line, scatter, area, histogram, box, heatmap, funnel)
   - DataFrames e tabelas
   - Expanders
   - Sidebar
   - Input area
   - Bot√µes
*/

/* ==================== VARI√ÅVEIS ==================== */
:root {
    --bg-primary: #FFFFFF;
    --bg-secondary: #F8F9FA;
    --bg-card: #FFFFFF;
    --bg-input: #FFFFFF;
    --border: #E5E7EB;
    --border-focus: #3B82F6;
    --text-primary: #111827;
    --text-secondary: #6B7280;
    --text-tertiary: #9CA3AF;
    --accent: #3B82F6;
    --success: #10B981;
    --error: #EF4444;
    --warning: #F59E0B;
}

/* ==================== GLOBAL ==================== */
.main {
    background: var(--bg-primary) !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif !important;
}

/* ==================== SIDEBAR ==================== */
section[data-testid="stSidebar"] {
    background: var(--bg-secondary) !important;
    border-right: 1px solid var(--border) !important;
}

section[data-testid="stSidebar"] button {
    background: var(--bg-card) !important;
    border: 1px solid var(--border) !important;
    color: var(--text-primary) !important;
    border-radius: 6px !important;
    transition: border-color 150ms ease !important;
}

section[data-testid="stSidebar"] button:hover {
    border-color: var(--accent) !important;
}

/* ==================== CHAT MESSAGES ==================== */
.stChatMessage {
    background: transparent !important;
    border: none !important;
    padding: 16px 0 !important;
    margin: 8px 0 !important;
}

/* Mensagem do usu√°rio */
.stChatMessage[data-testid="user"] {
    background: var(--bg-secondary) !important;
    border-radius: 12px !important;
    padding: 16px !important;
    border: 1px solid var(--border) !important;
}

/* Mensagem do assistente */
.stChatMessage[data-testid="assistant"] {
    background: var(--bg-card) !important;
    border-radius: 12px !important;
    padding: 16px !important;
    border: 1px solid var(--border) !important;
}

/* ==================== INPUT AREA ==================== */
.stChatInput {
    background: var(--bg-input) !important;
    border: 1px solid var(--border) !important;
    border-radius: 12px !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
    padding: 12px 16px !important;
    transition: all 150ms ease !important;
}

.stChatInput:focus-within {
    border-color: var(--accent) !important;
    outline: 3px solid rgba(59, 130, 246, 0.1) !important;
    outline-offset: 0px !important;
}

textarea[data-testid="stChatInputTextArea"] {
    background: transparent !important;
    border: none !important;
    color: var(--text-primary) !important;
    font-size: 14px !important;
    line-height: 20px !important;
}

/* ==================== PLOTLY CHARTS ==================== */
/* Container do gr√°fico */
.js-plotly-plot {
    background: var(--bg-card) !important;
    border-radius: 12px !important;
    padding: 16px !important;
    border: 1px solid var(--border) !important;
}

/* Remover fundo escuro padr√£o do Plotly */
.js-plotly-plot .plotly .plot-container {
    background: transparent !important;
}

/* Tooltip do Plotly */
.hoverlayer .hovertext {
    background: white !important;
    border: 1px solid var(--border) !important;
    border-radius: 6px !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
}

/* Barra de ferramentas do Plotly */
.modebar {
    background: transparent !important;
}

.modebar-btn {
    background: transparent !important;
    border-radius: 4px !important;
}

.modebar-btn:hover {
    background: var(--bg-secondary) !important;
}

/* ==================== DATAFRAMES E TABELAS ==================== */
.stDataFrame {
    background: var(--bg-card) !important;
    border-radius: 8px !important;
    border: 1px solid var(--border) !important;
    overflow: hidden !important;
}

/* Cabe√ßalho da tabela */
.stDataFrame thead tr {
    background: var(--bg-secondary) !important;
    border-bottom: 2px solid var(--border) !important;
}

.stDataFrame thead th {
    color: var(--text-primary) !important;
    font-weight: 600 !important;
    padding: 12px 16px !important;
    font-size: 13px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
}

/* Corpo da tabela */
.stDataFrame tbody tr {
    border-bottom: 1px solid var(--border) !important;
    transition: background 100ms ease !important;
}

.stDataFrame tbody tr:hover {
    background: var(--bg-secondary) !important;
}

.stDataFrame tbody td {
    color: var(--text-primary) !important;
    padding: 12px 16px !important;
    font-size: 14px !important;
}

/* C√©lulas de n√∫meros (alinhamento √† direita) */
.stDataFrame tbody td[data-type="number"] {
    text-align: right !important;
    font-variant-numeric: tabular-nums !important;
}

/* ==================== EXPANDERS ==================== */
.streamlit-expanderHeader {
    background: var(--bg-card) !important;
    border: 1px solid var(--border) !important;
    border-radius: 8px !important;
    color: var(--text-primary) !important;
    padding: 12px 16px !important;
    transition: all 150ms ease !important;
}

.streamlit-expanderHeader:hover {
    background: var(--bg-secondary) !important;
    border-color: var(--accent) !important;
}

.streamlit-expanderContent {
    background: var(--bg-card) !important;
    border: 1px solid var(--border) !important;
    border-top: none !important;
    border-radius: 0 0 8px 8px !important;
    padding: 16px !important;
}

/* ==================== BOT√ïES ==================== */
.stButton button {
    background: var(--accent) !important;
    color: white !important;
    border: none !important;
    border-radius: 8px !important;
    padding: 8px 16px !important;
    font-weight: 500 !important;
    font-size: 14px !important;
    transition: all 150ms ease !important;
}

.stButton button:hover {
    background: #2563EB !important;
    transform: translateY(-1px) !important;
}

/* Bot√£o secund√°rio */
button[kind="secondary"] {
    background: transparent !important;
    border: 1px solid var(--border) !important;
    color: var(--text-primary) !important;
}

button[kind="secondary"]:hover {
    background: var(--bg-secondary) !important;
    border-color: var(--accent) !important;
}

/* ==================== M√âTRICAS ==================== */
div[data-testid="stMetricValue"] {
    font-size: 28px !important;
    font-weight: 600 !important;
    color: var(--text-primary) !important;
}

div[data-testid="stMetricLabel"] {
    font-size: 13px !important;
    color: var(--text-secondary) !important;
    font-weight: 500 !important;
}

div[data-testid="stMetricDelta"] {
    font-size: 14px !important;
}

/* ==================== SPINNER (LOADING) ==================== */
.stSpinner > div {
    border-color: var(--accent) transparent transparent transparent !important;
    width: 16px !important;
    height: 16px !important;
}

/* Remover texto do spinner (deixar apenas o √≠cone) */
.element-container:has(.stSpinner) > div > div > div {
    font-size: 0 !important;
}

/* ==================== ALERTS E NOTIFICA√á√ïES ==================== */
div[data-testid="stNotification"] {
    background: var(--bg-card) !important;
    border-left: 3px solid var(--accent) !important;
    border-radius: 8px !important;
    padding: 12px 16px !important;
}

.stSuccess {
    border-left-color: var(--success) !important;
}

.stError {
    border-left-color: var(--error) !important;
}

.stWarning {
    border-left-color: var(--warning) !important;
}

/* ==================== INPUTS GERAIS ==================== */
.stTextInput > div > div > input,
.stNumberInput > div > div > input,
.stTextArea > div > div > textarea {
    background: var(--bg-input) !important;
    border: 1px solid var(--border) !important;
    border-radius: 8px !important;
    color: var(--text-primary) !important;
    padding: 8px 12px !important;
    transition: border-color 150ms ease !important;
}

.stTextInput > div > div > input:focus,
.stTextArea > div > div > textarea:focus,
.stNumberInput > div > div > input:focus {
    border-color: var(--accent) !important;
    outline: 3px solid rgba(59, 130, 246, 0.1) !important;
    outline-offset: 0px !important;
}

/* Labels */
.stTextInput > label,
.stTextArea > label,
.stNumberInput > label {
    color: var(--text-primary) !important;
    font-weight: 500 !important;
    font-size: 14px !important;
}

/* ==================== SELECT BOXES ==================== */
.stSelectbox > div > div {
    background: var(--bg-input) !important;
    border: 1px solid var(--border) !important;
    border-radius: 8px !important;
}

/* ==================== TABS ==================== */
.stTabs [data-baseweb="tab-list"] {
    gap: 8px !important;
}

.stTabs [data-baseweb="tab"] {
    background: var(--bg-input) !important;
    border: 1px solid var(--border) !important;
    color: var(--text-secondary) !important;
    border-radius: 8px 8px 0 0 !important;
    padding: 8px 16px !important;
    font-weight: 500 !important;
}

.stTabs [aria-selected="true"] {
    background: var(--bg-card) !important;
    border-color: var(--accent) !important;
    color: var(--accent) !important;
    border-bottom-color: var(--bg-card) !important;
}

/* ==================== SCROLLBAR ==================== */
::-webkit-scrollbar {
    width: 8px !important;
    height: 8px !important;
}

::-webkit-scrollbar-track {
    background: var(--bg-secondary) !important;
}

::-webkit-scrollbar-thumb {
    background: var(--border) !important;
    border-radius: 4px !important;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary) !important;
}

/* ==================== OTIMIZA√á√ïES DE PERFORMANCE ==================== */
/* Usar outline em vez de box-shadow (mais r√°pido) */
*:focus-visible {
    outline: 2px solid var(--accent) !important;
    outline-offset: 2px !important;
}

/* Desabilitar anima√ß√µes desnecess√°rias */
.stMarkdown p,
.stMarkdown div {
    animation: none !important;
}

/* ==================== DARK MODE SUPPORT (OPCIONAL) ==================== */
/* Descomente para suporte a dark mode autom√°tico */
/*
@media (prefers-color-scheme: dark) {
    :root {
        --bg-primary: #0D1117;
        --bg-secondary: #161B22;
        --bg-card: #21262D;
        --bg-input: #0D1117;
        --border: #30363D;
        --text-primary: #F0F6FC;
        --text-secondary: #8B949E;
        --text-tertiary: #6E7681;
    }
}
*/
